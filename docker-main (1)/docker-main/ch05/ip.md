

# π ip : λ¦¬λ…μ¤ λ„¤νΈμ›ν‚Ή ν•„μ λ„κµ¬

λ¦¬λ…μ¤μ—μ„ λ„¤νΈμ›ν¬ μΈν„°νμ΄μ¤, λΌμ°ν…, ν„°λ„ λ“±μ„ κ΄€λ¦¬ν•  λ• κ°€μ¥ κ°•λ ¥ν•κ² μ“°μ΄λ” λ„κµ¬κ°€ λ°”λ΅ **`ip` λ…λ Ήμ–΄**μ…λ‹λ‹¤.
μμ „μ—λ” `ifconfig`, `route` κ°™μ€ λ…λ Ήμ–΄λ¥Ό λ§μ΄ μΌμ§€λ§, μ΄μ λ” κ±°μ λ¨λ“  ν„λ€ λ¦¬λ…μ¤ μ‹μ¤ν…μ—μ„ `ip`κ°€ ν‘μ¤€μ΄μ—μ”. π€

μ΄λ² κΈ€μ—μ„λ” **`ip` λ…λ Ήμ–΄μ κΈ°λ³Έ κµ¬μ΅°λ¶€ν„° μ‹¤μ „ μμ‹κΉμ§€** κΉ”λ”ν•κ² μ •λ¦¬ν•΄λ³΄κ² μµλ‹λ‹¤.

---

## π§  1. ip λ…λ Ήμ–΄λ€?

* **ν¨ν‚¤μ§€**: `iproute2`μ— ν¬ν•¨
* **μ©λ„**:

  * λ„¤νΈμ›ν¬ μΈν„°νμ΄μ¤ κ΄€λ¦¬
  * IP μ£Όμ† ν• λ‹Ή λ° μ‚­μ 
  * λΌμ°ν… ν…μ΄λΈ” κ΄€λ¦¬
  * ν„°λ„, λ©€ν‹°μΊμ¤νΈ, ARP μΊμ‹ λ“± λ‹¤μ–‘ν• λ„¤νΈμ›ν‚Ή μ„¤μ •
* **νΉμ§•**:

  * λ¨λ“ν• κµ¬μ΅° β†’ λ…λ Ήμ–΄ λ’¤μ— μ„λΈμ»¤λ§¨λ“ μ¶”κ°€ λ°©μ‹
  * `ifconfig`, `route`, `netstat` λ…λ Ήμ–΄λ¥Ό λ€μ²΄

---

## π— 2. κΈ°λ³Έ κµ¬μ΅°

```bash
ip [μµμ…] <κ°μ²΄> <λ™μ‘> [λ§¤κ°λ³€μ]
```

* **κ°μ²΄(Object)**: `link`, `addr`, `route`, `neigh`, `rule` λ“±
* **λ™μ‘(Command)**: `show`, `add`, `del`, `set` λ“±
* **μμ‹**:

  ```bash
  ip addr show
  ip link set eth0 up
  ip route add default via 192.168.0.1
  ```

---

## π” 3. μμ£Ό μ“°λ” κ°μ²΄(Object)

| κ°μ²΄(Object) | μ„¤λ…                  | μμ‹                                     |
| ---------- | ------------------- | -------------------------------------- |
| `link`     | λ„¤νΈμ›ν¬ μΈν„°νμ΄μ¤ κ΄€λ¦¬       | `ip link show`                         |
| `addr`     | IP μ£Όμ† κ΄€λ¦¬            | `ip addr add 192.168.0.10/24 dev eth0` |
| `route`    | λΌμ°ν… ν…μ΄λΈ” κ΄€λ¦¬          | `ip route show`                        |
| `neigh`    | ARP μΊμ‹(Neighbor) κ΄€λ¦¬ | `ip neigh show`                        |
| `rule`     | μ •μ±… κΈ°λ° λΌμ°ν… κ΄€λ¦¬        | `ip rule show`                         |

---

## π›  4. μ‹¤μ „ μμ‹ λ¨μ

### 4.1 μΈν„°νμ΄μ¤ μƒνƒ λ³΄κΈ°

```bash
ip link show
```

* μ›λ‚  `ifconfig` λ…λ Ήμ λ€μ²΄ λ…λ Ή
* μΈν„°νμ΄μ¤ μ΄λ¦„, MAC μ£Όμ†, MTU, μƒνƒ(UP/DOWN) ν™•μΈ κ°€λ¥

---

### 4.2 IP μ£Όμ† λ³΄κΈ°

```bash
ip addr show
```

* `ifconfig`μ—μ„ λ³΄λ IP μ£Όμ†, λΈλ΅λ“μΊμ¤νΈ μ£Όμ† λ“±μ„ ν™•μΈ
* νΉμ • μΈν„°νμ΄μ¤λ§ λ³΄κ³  μ‹¶λ‹¤λ©΄:

  ```bash
  ip addr show dev eth0
  ```

---

### 4.3 IP μ£Όμ† μ¶”κ°€ / μ‚­μ 

```bash
ip addr add 192.168.1.100/24 dev eth0
ip addr del 192.168.1.100/24 dev eth0
```

* μ—¬λ¬ κ°μ IPλ¥Ό μΈν„°νμ΄μ¤μ— ν• λ‹Ή κ°€λ¥(Secondary IP)

---

### 4.4 λΌμ°ν… ν…μ΄λΈ” κ΄€λ¦¬

```bash
# κΈ°λ³Έ κ²μ΄νΈμ›¨μ΄ μ„¤μ •
ip route add default via 192.168.1.1

# ν„μ¬ λΌμ°ν… ν…μ΄λΈ” λ³΄κΈ°
ip route show
```

---

### 4.5 μΈν„°νμ΄μ¤ Up/Down

```bash
ip link set eth0 up
ip link set eth0 down
```

* μ„λΉ„μ¤ μ¬μ‹μ‘ μ—†μ΄ λ°”λ΅ μΈν„°νμ΄μ¤ μƒνƒ μ μ–΄ κ°€λ¥

---

### 4.6 ARP μΊμ‹ λ³΄κΈ°

```bash
ip neigh show
```

* λ΅μ»¬μ—μ„ μ•κ³  μλ” IP β†” MAC μ£Όμ† λ§¤ν•‘ μ •λ³΄ μ¶λ ¥

---

## β΅ 5. ifconfig vs ip λΉ„κµ

| κΈ°λ¥       | ifconfig          | ip                             |
| -------- | ----------------- | ------------------------------ |
| μƒνƒ λ³΄κΈ°    | `ifconfig`        | `ip addr show`, `ip link show` |
| IP μ¶”κ°€    | λ¶νΈ, μΈν„°νμ΄μ¤λ‹Ή 1κ°λ§ κ°€λ¥ | `ip addr add` β†’ μ—¬λ¬ κ° κ°€λ¥        |
| λΌμ°ν… κ΄€λ¦¬   | `route` λ³„λ„ λ…λ Ήμ–΄ ν•„μ” | `ip route` ν†µν•© κ΄€λ¦¬               |
| λ©€ν‹°μΊμ¤νΈ/ν„°λ„ | μ§€μ› μ ν•μ             | μ™„μ „ μ§€μ›                          |
| ν„λ€μ„±      | λ κ±°μ‹ λ„κµ¬            | ν‘μ¤€ λ„κµ¬                          |

---

## π§Ύ 6. μΉνΈμ‹νΈ (Cheat Sheet)

| μ‘μ—…          | λ…λ Ήμ–΄ μμ‹                                 |
| ----------- | -------------------------------------- |
| μΈν„°νμ΄μ¤ λ³΄κΈ°    | `ip link show`                         |
| IP μ£Όμ† λ³΄κΈ°    | `ip addr show`                         |
| IP μ£Όμ† μ¶”κ°€    | `ip addr add 192.168.0.10/24 dev eth0` |
| IP μ£Όμ† μ‚­μ     | `ip addr del 192.168.0.10/24 dev eth0` |
| κΈ°λ³Έ κ²μ΄νΈμ›¨μ΄ μ„¤μ • | `ip route add default via 192.168.0.1` |
| λΌμ°ν… ν…μ΄λΈ” λ³΄κΈ°  | `ip route show`                        |
| μΈν„°νμ΄μ¤ ν™μ„±ν™”   | `ip link set eth0 up`                  |
| μΈν„°νμ΄μ¤ λΉ„ν™μ„±ν™”  | `ip link set eth0 down`                |
| ARP μΊμ‹ λ³΄κΈ°   | `ip neigh show`                        |

---

## 7. μμ‹
```
ip -f inet -4 -o addr
```

---

### π§© λ…λ Ήμ–΄ κµ¬μ„± μ”μ† ν•΄μ„

```bash
ip -f inet -4 -o addr
```

| μµμ… / μΈμ   | μλ―Έ                                                           |
| --------- | ------------------------------------------------------------ |
| `ip`      | `iproute2` λ„κµ¬ μ‹¤ν–‰. λ„¤νΈμ›ν¬ μΈν„°νμ΄μ¤, μ£Όμ†, λΌμ°ν… λ“± μ μ–΄                   |
| `-f inet` | **ν¨λ°€λ¦¬(Family)** μ§€μ • β†’ μ—¬κΈ°μ„λ” IPv4(=inet) μ£Όμ† ν¨λ°€λ¦¬λ§ λ€μƒμΌλ΅ ν•¨         |
| `-4`      | `-f inet`κ³Ό λ™μΌν•κ² **IPv4 μ „μ©**μ„ μλ―Έ. μ‚¬μ‹¤ `-4` μ“°λ©΄ `-f inet`μ€ μƒλµ κ°€λ¥ |
| `-o`      | **oneline μ¶λ ¥** μµμ…. κ° μΈν„°νμ΄μ¤ μ •λ³΄λ¥Ό ν• μ¤„μ— μ”μ•½ν•΄μ„ μ¶λ ¥                  |
| `addr`    | `ip` λ…λ Ήμ–΄μ μ„λΈμ»¤λ§¨λ“ β†’ IP μ£Όμ† κ΄€λ ¨ μ‘μ—…(show/add/del) λ‹΄λ‹Ή               |

μ¦‰, μ΄ λ…λ Ήμ–΄λ” **IPv4 μ£Όμ†λ§ ν• μ¤„ μ”μ•½μΌλ΅ κΉ”λ”ν•κ² λ³΄κ³  μ‹¶μ„ λ•** μ‚¬μ©ν•©λ‹λ‹¤.

---

### π–¥ μ‹¤ν–‰ μμ‹

```bash
$ ip -f inet -4 -o addr
1: lo    inet 127.0.0.1/8 scope host lo
2: eth0  inet 192.168.0.10/24 brd 192.168.0.255 scope global eth0
```

κ° ν•„λ“ μλ―Έ:

* **1:** μΈν„°νμ΄μ¤ μΈλ±μ¤ λ²νΈ
* **lo / eth0:** λ„¤νΈμ›ν¬ μΈν„°νμ΄μ¤ μ΄λ¦„
* **inet:** μ£Όμ† ν¨λ°€λ¦¬(IPv4)
* **192.168.0.10/24:** IP μ£Όμ†μ™€ μ„λΈλ„· λ§μ¤ν¬
* **brd 192.168.0.255:** λΈλ΅λ“μΊμ¤νΈ μ£Όμ†
* **scope global:** μ£Όμ† λ²”μ„(κΈ€λ΅λ², λ΅μ»¬, λ§ν¬ λ“±)

---

### π“ μµμ… λΉ„κµ

| λ…λ Ήμ–΄                    | μ¶λ ¥ νΉμ§•                           |
| ---------------------- | ------------------------------- |
| `ip addr show`         | κΈ°λ³Έ μ¶λ ¥, IPv4/IPv6 λ¨λ‘ ν‘μ‹, μ—¬λ¬ μ¤„ μ¶λ ¥ |
| `ip -4 addr show`      | IPv4 μ£Όμ†λ§ ν‘μ‹                     |
| `ip -f inet addr show` | μ„μ™€ λ™μΌ, `-4` λ€μ‹  `-f inet` μ‚¬μ©     |
| `ip -f inet -o addr`   | IPv4 μ£Όμ†λ§, ν• μ¤„ μ”μ•½μΌλ΅ μ¶λ ¥           |

---

### π€ μ •λ¦¬

* **`-f inet` vs `-4`**
  β†’ λ‘ λ‹¤ IPv4 μ§€μ •, `-4`κ°€ λ” κ°„λ‹¨ν•¨.
* **`-o` μµμ…**
  β†’ μ¤ν¬λ¦½νΈ μ‘μ„± μ‹ μ μ©, κΉ”λ”ν•κ² ν• μ¤„μ”© μ¶λ ¥ν•΄μ„ `awk`, `grep` κ°™μ€ ν΄κ³Ό μ‰½κ² μ΅°ν•© κ°€λ¥.

---




## π“ 8. λ§λ¬΄λ¦¬

`ip` λ…λ Ήμ–΄λ” λ‹¨μν• μΈν„°νμ΄μ¤ κ΄€λ¦¬λΏλ§ μ•„λ‹λΌ **λΌμ°ν…, ν„°λ„, λ©€ν‹°μΊμ¤νΈ**κΉμ§€ ν„λ€ λ„¤νΈμ›ν¬ μ„¤μ •μ λ¨λ“  κ²ƒμ„ ν†µν•©μ μΌλ΅ κ΄€λ¦¬ν•  μ μλ” ν΄μ…λ‹λ‹¤.

μ΄μ  λ” μ΄μƒ `ifconfig`, `route` λ…λ Ήμ–΄λ¥Ό μ“Έ μ΄μ κ°€ κ±°μ μ—†μµλ‹λ‹¤.
ν•λ‘ λ² μµμ™ν•΄μ§€λ©΄ μ¤νλ ¤ λ” μ§κ΄€μ μ΄κ³  μ¤ν¬λ¦½νΈ μ‘μ„±μ—λ„ μ μ©ν•μ£ . π„

