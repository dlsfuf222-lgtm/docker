# 🐧 리눅스 컨테이너 기술: 현대 소프트웨어 인프라의 기반

## 1. 컨테이너란 무엇인가?

컨테이너(Container)는 **프로세스 격리와 자원 제어를 통해 독립된 실행 환경을 제공하는 기술**입니다.
전통적인 VM(Virtual Machine)은 하이퍼바이저 위에 게스트 OS 전체를 올려야 하지만, 컨테이너는 **호스트 리눅스 커널을 공유**하면서도 마치 독립된 머신처럼 동작합니다.

즉, 컨테이너는 “가볍고 빠른 가상화”의 또 다른 이름입니다.

---

## 2. 리눅스 커널이 제공하는 핵심 메커니즘

컨테이너 기술은 새로운 개념이 아니라, 리눅스 커널이 오랫동안 제공해온 기능들을 결합한 것입니다.

### 🔹 (1) 네임스페이스 (Namespaces) – 격리의 핵심

* **PID Namespace**: 프로세스 ID를 독립적으로 부여 (컨테이너마다 PID 1 존재)
* **NET Namespace**: 가상 네트워크 인터페이스 및 포트 격리
* **MNT Namespace**: 파일시스템 마운트 지점 분리
* **UTS Namespace**: 호스트 이름 격리
* **IPC Namespace**: 공유 메모리 및 메시지 큐 격리
* **User Namespace**: 사용자/그룹 ID 격리

👉 네임스페이스는 “보이는 세상”을 컨테이너 단위로 따로 만들어줍니다.

---

### 🔹 (2) Cgroups (Control Groups) – 자원 관리

* CPU, 메모리, 블록 I/O, 네트워크 대역폭 등을 프로세스 그룹 단위로 제한
* 예: “이 컨테이너는 CPU 1코어, 메모리 512MB 이상 못 씀”
* 공정한 리소스 분배와 QoS(Quality of Service)를 보장

👉 Cgroups는 “컨테이너가 시스템 전체를 독식하지 않도록” 제어합니다.

---

### 🔹 (3) 유니온 파일시스템 (UnionFS) – 이미지와 레이어

* 여러 파일시스템을 합쳐 단일 계층으로 보여주는 기술
* 컨테이너 이미지를 “레이어(layer)” 형태로 관리

  * Base Image (예: Ubuntu)
  * Dependency Layer (라이브러리, 패키지)
  * Application Layer (개발자가 작성한 코드)
* 공통 레이어는 재사용 → **빠른 빌드, 작은 용량**

👉 UnionFS는 “컨테이너 이미지를 효율적으로 관리”하게 해줍니다.

---

### 🔹 (4) Capabilities & Seccomp – 보안

* **Capabilities**: 루트 권한을 잘게 쪼개 최소 권한만 부여
* **Seccomp**: 컨테이너가 호출할 수 있는 시스템 콜을 제한
* 샌드박스 환경을 구축하여 보안 강화

👉 보안 측면에서 컨테이너를 “루트 프로세스가 아닌 제한된 사용자”처럼 동작하게 만듭니다.

---

## 3. VM과 컨테이너: 구조적 차이

| 구분      | VM (Virtual Machine) | 컨테이너 (Linux Container) |
| ------- | -------------------- | ---------------------- |
| 가상화 단위  | 하드웨어 + OS            | 프로세스 수준                |
| 커널      | 각 VM마다 별도 OS 커널      | 호스트 리눅스 커널 공유          |
| 성능      | 무겁고 느림               | 가볍고 빠름                 |
| 리소스 효율성 | 낮음                   | 높음                     |
| 부팅 속도   | 수십 초 \~ 수 분          | 수 밀리초 \~ 수 초           |

---

## 4. 컨테이너 기술의 진화와 활용

리눅스 컨테이너 기술은 단순한 격리 메커니즘에서 시작했지만, 지금은 **클라우드 네이티브 아키텍처**의 핵심 요소가 되었습니다.

* **개발 환경 표준화**: “내 PC에서는 되는데?” 문제 해결
* **마이크로서비스 아키텍처(MSA)**: 서비스 단위로 컨테이너 실행
* **CI/CD 파이프라인**: 테스트 → 빌드 → 배포 자동화
* **오케스트레이션**: Kubernetes, OpenShift 등에서 대규모 컨테이너 관리

---

## 5. 결론

리눅스 컨테이너 기술은 단순히 새로운 가상화 기법이 아니라,
**리눅스 커널이 가진 고급 기능들을 조합해 만들어낸 “가볍고 이식성 높은 실행 환경”** 입니다.

오늘날의 DevOps, MSA, 클라우드 네이티브 환경은 사실상 컨테이너 없이는 성립할 수 없으며, 그 모든 기반은 **리눅스 커널**에 있습니다.

