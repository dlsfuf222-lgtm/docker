

# 🛡️ 리눅스 `chmod`: 권한 제어의 모든 것

리눅스 운영체제에서 **파일 권한 관리**는 보안과 직결되는 핵심 요소이다. 그 중심에는 바로 **`chmod`(change mode)** 명령어가 있다. 본 문서에서는 `chmod` 명령어의 작동 원리부터 실무 활용 사례, 그리고 알아두어야 할 세부 사항까지 심도 있게 다루고자 한다.

---

## 1. 🔍 `chmod`의 본질: 왜 필요한가?

리눅스는 **멀티유저 시스템**으로 설계되었으며, 파일과 디렉터리 접근에 대해 **세밀한 제어**를 제공한다.
`chmod` 명령어는 이러한 제어의 중심 도구로서 다음과 같은 상황에서 필수적이다.

* **보안 강화:** 민감한 설정 파일의 무분별한 접근 차단
* **협업 환경:** 프로젝트 팀 내 권한 관리 체계 확립
* **운영 자동화:** 배포 스크립트나 로그 파일의 접근성 제어

---

## 2. 🗝️ 권한 체계의 기본 구조

리눅스의 권한 체계는 **소유자(owner)**, **그룹(group)**, **기타 사용자(others)** 3계층으로 나뉜다.

| 기호 | 의미      | 접근 권한 |
| -- | ------- | ----- |
| r  | read    | 읽기 권한 |
| w  | write   | 쓰기 권한 |
| x  | execute | 실행 권한 |

```bash
# 예시: ls -l 명령어 출력
-rwxr-xr--  1 user  group  1024 Sep 18 11:00 script.sh
```

위 예시에서 `-rwxr-xr--`는 다음을 의미한다:

* **rwx** → 소유자는 읽기/쓰기/실행 가능
* **r-x** → 그룹 사용자는 읽기/실행만 가능
* **r--** → 기타 사용자는 읽기만 가능

---

## 3. 🧮 권한 부여 방식: 기호 vs 숫자

`chmod`는 **기호 방식(Symbolic)** 과 **숫자 방식(Numeric)** 두 가지를 모두 지원한다.

### 3.1 기호 방식 (Symbolic)

```bash
chmod u+x script.sh   # 소유자(u)에게 실행(x) 권한 추가(+)
chmod g-w script.sh   # 그룹(g)에서 쓰기(w) 권한 제거(-)
chmod o=r script.sh   # 기타 사용자(o)에게 읽기(r) 권한만 부여(=)
```

### 3.2 숫자 방식 (Numeric)

숫자 방식은 **2진수 → 8진수** 형태로 권한을 표현한다.

| 권한 | 2진수 | 8진수 |
| -- | --- | --- |
| r  | 100 | 4   |
| w  | 010 | 2   |
| x  | 001 | 1   |

예: `rwxr-xr--` → **7 5 4**

```bash
chmod 754 script.sh
```

---

## 4. ⚡ 실무에서 자주 쓰이는 예시

| 시나리오         | 명령어                  | 설명               |
| ------------ | -------------------- | ---------------- |
| 실행 스크립트 배포   | `chmod 755 app.sh`   | 모든 사용자가 실행 가능    |
| 민감한 설정 파일    | `chmod 600 .env`     | 소유자만 읽기/쓰기 가능    |
| 웹 디렉터리 접근 제한 | `chmod 750 /var/www` | 그룹만 접근 가능, 기타 차단 |

---

## 5. 🧠 고급 옵션 및 주의사항

### 5.1 **재귀 옵션(-R)**

디렉터리 내부 모든 파일에 동일한 권한을 적용할 때 사용한다.

```bash
chmod -R 755 /var/www
```

⚠️ **주의:** 민감한 경로(`/etc`, `/home` 등)에서 무분별하게 사용할 경우 보안 리스크 발생 가능.

### 5.2 **기본 umask와의 관계**

새로 생성되는 파일은 **umask** 값에 따라 기본 권한이 결정된다.
예: `umask=022` → 기본 파일 권한: 644, 디렉터리: 755

---

## 6. 🏆 팁: 보안 모범 사례

1. **최소 권한 원칙(Principle of Least Privilege):** 필요 최소한의 권한만 부여
2. **로그 관리:** `ls -l`, `find -perm` 등으로 정기적 권한 점검
3. **CI/CD 파이프라인:** 자동화 스크립트에서 권한 부여 시 항상 명시적 설정 사용

---

## 7. 🚀 결론

`chmod`는 단순한 권한 변경 도구가 아니라, **시스템 보안**과 **운영 효율성**을 동시에 달성하는 열쇠이다.
기호와 숫자 방식을 능숙하게 활용하고, 재귀 옵션과 umask 관계를 이해한다면 보다 안전하고 체계적인 리눅스 환경을 구축할 수 있다.

